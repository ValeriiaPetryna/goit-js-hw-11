{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43195893-e6aecd5c5261fd0c345764808';\n\nexport function getData(q) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    q,\n  });\n  return fetch(BASE_URL + '?' + params).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    throw new Error(response.status);\n  });\n}\n","export function createMarkup(items = []) {\n  return items\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<a href=\"${largeImageURL}\"><div class=\"card\">\n        <div class=\"card-wrapper-img\">\n          <img\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n          />\n        </div>\n        <div class=\"card-info\">\n          <div class=\"card-info-colum\">\n            <p class=\"card-info-title\">likes</p>\n            <p class=\"card-info-value\">${likes}</p>\n          </div>\n          <div class=\"card-info-colum\">\n            <p class=\"card-info-title\">views</p>\n            <p class=\"card-info-value\">${views}</p>\n          </div>\n          <div class=\"card-info-colum\">\n            <p class=\"card-info-title\">comments</p>\n            <p class=\"card-info-value\">${comments}</p>\n          </div>\n          <div class=\"card-info-colum\">\n            <p class=\"card-info-title\">downloads</p>\n            <p class=\"card-info-value\">${downloads}</p>\n          </div>\n        </div>\n      </div></a>`;\n      }\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport { getData } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  /* options */\n});\n// window.onload = function () {\n//   let preloader = document.getElementById('preloader');\n//   preloader.style.display = 'none';\n// };\n\nconst formEl = document.querySelector('.form');\nconst galleryEl = document.querySelector('.gallery');\nlet preloader = document.querySelector('.preloader');\nwindow.addEventListener('load', () => {\n  preloader.classList.add('hide');\n  setTimeout(() => {\n    preloader.remove();\n  }, 600);\n});\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  const data = Object.fromEntries(new FormData(event.target));\n  console.log(data);\n  if (data.message === '') {\n    return;\n  }\n  getData(data.message)\n    .then(response => {\n      if (response.hits.length === 0) {\n        iziToast.info({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      const markup = createMarkup(response.hits);\n      console.log(markup);\n      addMarkup(markup);\n      lightbox.refresh();\n    })\n    .catch(err => {\n      iziToast.error({\n        message: 'Error!!!',\n      });\n    });\n});\n\nfunction addMarkup(markup) {\n  galleryEl.innerHTML = markup;\n}\n"],"names":["BASE_URL","API_KEY","getData","q","params","response","createMarkup","items","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","formEl","galleryEl","preloader","event","data","iziToast","markup","addMarkup","err"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAQC,EAAG,CACzB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAAE,CACJ,CAAG,EACD,OAAO,MAAMH,EAAW,IAAMI,CAAM,EAAE,KAAKC,GAAY,CACrD,GAAIA,EAAS,GACX,OAAOA,EAAS,OAElB,MAAM,IAAI,MAAMA,EAAS,MAAM,CACnC,CAAG,CACH,CCjBO,SAASC,EAAaC,EAAQ,GAAI,CACvC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe,YAAYL,CAAa;AAAA;AAAA;AAAA,mBAGrBD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMkBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA,iBAK7C,EACA,KAAK,EAAE,CACZ,CClCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAElD,CAAC,EAMKC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAY,SAAS,cAAc,UAAU,EACnD,IAAIC,EAAY,SAAS,cAAc,YAAY,EACnD,OAAO,iBAAiB,OAAQ,IAAM,CACpCA,EAAU,UAAU,IAAI,MAAM,EAC9B,WAAW,IAAM,CACfA,EAAU,OAAM,CACjB,EAAE,GAAG,CACR,CAAC,EAEDF,EAAO,iBAAiB,SAAUG,GAAS,CACzCA,EAAM,eAAc,EACpB,MAAMC,EAAO,OAAO,YAAY,IAAI,SAASD,EAAM,MAAM,CAAC,EAC1D,QAAQ,IAAIC,CAAI,EACZA,EAAK,UAAY,IAGrBnB,EAAQmB,EAAK,OAAO,EACjB,KAAKhB,GAAY,CAChB,GAAIA,EAAS,KAAK,SAAW,EAAG,CAC9BiB,EAAS,KAAK,CACZ,QACE,0EACZ,CAAS,EACD,MACD,CACD,MAAMC,EAASjB,EAAaD,EAAS,IAAI,EACzC,QAAQ,IAAIkB,CAAM,EAClBC,EAAUD,CAAM,EAChBR,EAAS,QAAO,CACtB,CAAK,EACA,MAAMU,GAAO,CACZH,EAAS,MAAM,CACb,QAAS,UACjB,CAAO,CACP,CAAK,CACL,CAAC,EAED,SAASE,EAAUD,EAAQ,CACzBL,EAAU,UAAYK,CACxB"}